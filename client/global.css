@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Cinzel:wght@700&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /**
   * Tailwind CSS theme in HSL variables (used by tailwind.config.ts)
  */
  :root {
    /* Creamy light theme */
    --background: 45 43% 96%; /* crema */
    --foreground: 24 25% 15%; /* marrón oscuro suave */

    --card: 45 43% 98%;
    --card-foreground: 24 25% 15%;

    --popover: 45 43% 98%;
    --popover-foreground: 24 25% 15%;

    --primary: 24 30% 18%; /* tono institucional oscuro */
    --primary-foreground: 42 50% 96%;

    --secondary: 42 35% 92%;
    --secondary-foreground: 24 30% 18%;

    --muted: 42 30% 90%;
    --muted-foreground: 24 12% 35%;

    --accent: 42 35% 92%;
    --accent-foreground: 24 30% 18%;

    --destructive: 3 70% 50%;
    --destructive-foreground: 42 50% 96%;

    --border: 40 25% 85%;
    --input: 40 25% 85%;
    --ring: 24 30% 18%;

    --radius: 0.6rem;

    --sidebar-background: 45 43% 96%;
    --sidebar-foreground: 24 25% 15%;
    --sidebar-primary: 24 30% 18%;
    --sidebar-primary-foreground: 42 50% 96%;
    --sidebar-accent: 42 35% 92%;
    --sidebar-accent-foreground: 24 30% 18%;
    --sidebar-border: 40 25% 85%;
    --sidebar-ring: 24 30% 18%;
  }

  .dark {
    --background: 24 30% 12%;
    --foreground: 42 50% 96%;

    --card: 24 30% 14%;
    --card-foreground: 42 50% 96%;

    --popover: 24 30% 14%;
    --popover-foreground: 42 50% 96%;

    --primary: 42 50% 96%;
    --primary-foreground: 24 30% 12%;

    --secondary: 24 20% 18%;
    --secondary-foreground: 42 50% 96%;

    --muted: 24 20% 18%;
    --muted-foreground: 42 18% 75%;

    --accent: 24 20% 18%;
    --accent-foreground: 42 50% 96%;

    --destructive: 3 70% 45%;
    --destructive-foreground: 42 50% 96%;

    --border: 24 15% 26%;
    --input: 24 15% 26%;
    --ring: 42 50% 86%;
    --sidebar-background: 24 30% 12%;
    --sidebar-foreground: 42 50% 96%;
    --sidebar-primary: 42 60% 50%;
    --sidebar-primary-foreground: 24 30% 12%;
    --sidebar-accent: 24 20% 18%;
    --sidebar-accent-foreground: 42 50% 96%;
    --sidebar-border: 24 20% 18%;
    --sidebar-ring: 42 60% 50%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: Nunito, Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  }
}

/* subtle insert animation used when a new law is published and prepended to the list */
@layer components {
  @keyframes insertDown {
    from {
      opacity: 0;
      transform: translateY(-8px) scale(0.995);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  .animate-insert {
    animation: insertDown 360ms cubic-bezier(.22,.9,.34,1) both;
  }

  /* slide-in animation used when navigating to the 'Últimas leyes' section */
  @keyframes slideUp {
    from { opacity: 0; transform: translateY(12px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .slide-temp {
    animation: slideUp 520ms cubic-bezier(.22,.9,.34,1) both;
  }

  /* 3D flip panel styles for Últimas leyes */
  .flip-3d {
    perspective: 1100px;
  }

  .flip-3d-inner {
    position: relative;
    transform-style: preserve-3d;
    transition: transform 700ms cubic-bezier(.2,.9,.25,1);
  }

  .flip-3d-inner.is-flipped {
    transform: rotateY(180deg);
  }

  .flip-face {
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
  }

  .flip-face.back {
    position: absolute;
    inset: 0;
    transform: rotateY(180deg);
  }

  /* Micro-animations for header buttons */
  @keyframes microRise {
    from { transform: translateY(0) scale(1); }
    to { transform: translateY(-1px) scale(1.01); }
  }

  @keyframes microShimmer {
    0% { background-position: -120% 0; }
    100% { background-position: 120% 0; }
  }

  .btn-micro-raise {
    transition: transform 160ms cubic-bezier(.2,.9,.25,1), box-shadow 160ms;
  }

  .btn-micro-raise:hover,
  .btn-micro-raise:focus {
    transform: translateY(-1px) scale(1.01);
    box-shadow: 0 4px 10px rgba(2,6,23,0.04);
  }

  .btn-micro-shimmer {
    position: relative;
    overflow: hidden;
    transition: transform 160ms cubic-bezier(.2,.9,.25,1), box-shadow 160ms;
  }

  .btn-micro-shimmer::before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.04) 50%, rgba(255,255,255,0) 100%);
    background-size: 200% 100%;
    transform: translateX(-100%);
    pointer-events: none;
  }

  .btn-micro-shimmer:hover::before,
  .btn-micro-shimmer:focus::before {
    animation: microShimmer 700ms linear forwards;
  }

  .btn-micro-shimmer:hover,
  .btn-micro-shimmer:focus {
    transform: translateY(-1px);
    box-shadow: 0 4px 10px rgba(2,6,23,0.05);
  }

}

/* Respect user's reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }

  .btn-micro-raise,
  .btn-micro-shimmer,
  .flip-3d-inner,
  .animate-insert,
  .slide-temp {
    transition: none !important;
    transform: none !important;
    animation: none !important;
  }
}
